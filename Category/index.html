<!DOCTYPE html>
<html lang="ar" dir="rtl" class="notranslate" translate="no"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Servio - Smart Language Select</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { 
            --primary-blue: #2563eb; 
            --text-dark: #0f172a; 
            --text-light: #64748b;
            --bg-body: #f1f5f9;
            --card-bg: #ffffff;
            --fb-color: #1877F2; --ig-color: #E4405F; --tt-color: #000000; --dc-color: #5865F2; --tw-color: #9146FF;
        }
        
        body { margin: 0; padding: 0; font-family: 'Inter', sans-serif; background-color: var(--bg-body); display: flex; justify-content: center; transition: direction 0.3s; }
        .mobile-container { width: 100%; max-width: 480px; min-height: 100vh; position: relative; }

        /* البحث الثابت */
        .header-sticky { position: sticky; top: 0; z-index: 1000; background: var(--bg-body); padding: 15px 16px 10px; }
        .search-wrapper { position: relative; width: 100%; }
        .search-input { 
            width: 100%; padding: 14px 45px 14px 15px; border-radius: 16px; border: 2px solid transparent; 
            background: var(--card-bg); box-shadow: 0 4px 15px rgba(0,0,0,0.05); outline: none; font-size: 14px; box-sizing: border-box;
        }
        .search-icon { position: absolute; top: 50%; transform: translateY(-50%); color: var(--text-light); }

        /* تعديلات الاتجاهات */
        [dir="rtl"] .search-icon { right: 16px; }
        [dir="ltr"] .search-icon { left: 16px; }
        [dir="ltr"] .search-input { padding: 14px 15px 14px 45px; }

        .content-area { padding: 0 16px 100px; }
        .category-label { font-size: 11px; font-weight: 800; color: var(--text-light); margin: 20px 0 10px; display: flex; align-items: center; gap: 10px; text-transform: uppercase; }
        .category-label::after { content: ""; flex: 1; height: 1px; background: #cbd5e0; }

        .service-item {
            background: var(--card-bg); padding: 14px; border-radius: 16px; border: 2px solid transparent; 
            cursor: pointer; display: flex; align-items: center; margin-bottom: 8px; transition: 0.2s;
        }
        .service-item.selected { border-color: var(--primary-blue); background-color: #eff6ff; }

        .platform-logo { width: 40px; height: 40px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 18px; color: white; flex-shrink: 0; }
        [dir="rtl"] .platform-logo { margin-left: 14px; }
        [dir="ltr"] .platform-logo { margin-right: 14px; }

        .bg-fb { background: var(--fb-color); } .bg-ig { background: linear-gradient(45deg, #f09433, #bc1888); }
        .bg-tt { background: var(--tt-color); } .bg-dc { background: var(--dc-color); } .bg-tw { background: var(--tw-color); }

        .service-info { flex: 1; display: flex; flex-direction: column; overflow: hidden; text-align: inherit; }
        .name-primary { font-size: 13px; font-weight: 700; color: var(--text-dark); }
        .name-secondary { font-size: 10px; color: var(--text-light); margin-top: 2px; }
        
        .check-icon { color: var(--primary-blue); font-size: 18px; display: none; margin: 0 8px; }
        .service-item.selected .check-icon { display: block; }
        
        /* زر التأكيد العائم */
        .back-fab {
            position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%) translateY(100px);
            background: var(--primary-blue); color: white; padding: 14px 28px; border-radius: 50px;
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.4); display: flex; align-items: center; gap: 12px;
            font-weight: 700; font-size: 15px; z-index: 2000; transition: 0.4s; cursor: pointer; border: none;
        }
        .back-fab.visible { transform: translateX(-50%) translateY(0); }
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <div class="mobile-container">
        <div class="header-sticky">
            <div class="search-wrapper">
                <i class="fa-solid fa-magnifying-glass search-icon"></i>
                <input type="text" id="serviceSearch" class="search-input" placeholder="... Search | بحث">
            </div>
        </div>
        <div class="content-area" id="servicesList"></div>
        <button class="back-fab" id="confirmBtn" onclick="window.history.back()">
            <span id="btnText">تأكيد الاختيار | Confirm</span>
            <i id="btnIcon" class="fa-solid fa-arrow-left"></i>
        </button>
    </div>

    <script>
        // 1. نظام كشف اللغة التلقائي
        // يفحص لغة الموقع الأصلية أو لغة المتصفح
        const docLang = document.documentElement.lang.toLowerCase();
        const browserLang = navigator.language.split('-')[0];
        const isAr = docLang === 'ar' || browserLang === 'ar';

        // ضبط الاتجاه واللغة بناءً على الكشف
        document.documentElement.dir = isAr ? 'rtl' : 'ltr';
        document.documentElement.lang = isAr ? 'ar' : 'en';
        document.getElementById('serviceSearch').placeholder = isAr ? "ابحث عن خدمة..." : "Search services...";
        document.getElementById('btnText').innerText = isAr ? "تأكيد الاختيار" : "Confirm Selection";
        document.getElementById('btnIcon').className = isAr ? "fa-solid fa-arrow-left" : "fa-solid fa-arrow-right";

        const data = [
            { cat: ["فيسبوك", "Facebook"], icon: "bg-fb", fa: "fa-facebook-f", items: [
                ["فيسبوك - المتابعون [بيانات البوت]", "FB - Followers [Bot Data]"],
                ["فيسبوك - متابعون [جودة بوت]", "FB - Followers [Bot Quality]"],
                ["فيسبوك - عدد المتابعين [حقيقي]", "FB - Followers Count [Real]"],
                ["فيسبوك - ردود الفعل [أسماء إنجليزية]", "FB - Post Reactions [EN Names]"],
                ["فيسبوك - إعجابات الصفحة + المتابعين", "FB - Page Likes + Followers"],
                ["فيسبوك - وقت المشاهدة [60 ألف دقيقة]", "FB - Watch Time [60K Mins]"],
                ["فيسبوك - مشاهدات مباشرة", "FB - Live Stream Views"],
                ["فيسبوك - المشاهدات", "FB - Video Views"],
                ["فيسبوك - أعضاء المجموعة", "FB - Group Members"]
            ]},
            { cat: ["إنستغرام", "Instagram"], icon: "bg-ig", fa: "fa-instagram", items: [
                ["إنستغرام - المتابعون", "IG - Followers"],
                ["إنستغرام - عدد المشاهدات", "IG - Video Views"],
                ["إنستغرام - الإعجابات", "IG - Likes"],
                ["إنستغرام - تعليقات", "IG - Comments"],
                ["إنستغرام - مشاهدات مباشرة", "IG - Live Views"]
            ]},
            { cat: ["تيك توك", "TikTok"], icon: "bg-tt", fa: "fa-tiktok", items: [
                ["تيك توك - المتابعون [الأرخص]", "TikTok - Followers [Cheapest]"],
                ["تيك توك - متابعون حقيقيون", "TikTok - Real Followers"],
                ["تيك توك - المشاهدات", "TikTok - Video Views"],
                ["تيك توك - إعجابات", "TikTok - Likes"],
                ["تيك توك - مشاهدات مباشرة", "TikTok - Live Views"]
            ]},
            { cat: ["ديسكورد", "Discord"], icon: "bg-dc", fa: "fa-discord", items: [
                ["ديسكورد - الأعضاء [متصلون]", "Discord - Members [Online]"],
                ["ديسكورد - تعزيز الخادم", "Discord - Server Boost"]
            ]}
        ];

        function init() {
            const list = document.getElementById('servicesList');
            data.forEach(group => {
                const label = document.createElement('div');
                label.className = 'category-label';
                label.innerText = isAr ? group.cat[0] : group.cat[1];
                list.appendChild(label);

                group.items.forEach(pair => {
                    const saveName = isAr ? pair[0] : pair[1];
                    const item = document.createElement('div');
                    item.className = 'service-item';
                    item.setAttribute('data-search', pair[0] + ' ' + pair[1]);
                    item.onclick = function() {
                        document.querySelectorAll('.service-item').forEach(i => i.classList.remove('selected'));
                        this.classList.add('selected');
                        localStorage.setItem('chosen_service', saveName);
                        document.getElementById('confirmBtn').classList.add('visible');
                    };

                    item.innerHTML = `
                        <div class="platform-logo ${group.icon}"><i class="fa-brands ${group.fa}"></i></div>
                        <div class="service-info">
                            <span class="name-primary">${isAr ? pair[0] : pair[1]}</span>
                            <span class="name-secondary">${isAr ? pair[1] : pair[0]}</span>
                        </div>
                        <i class="fa-solid fa-circle-check check-icon"></i>
                    `;
                    list.appendChild(item);
                });
            });
        }

        document.getElementById('serviceSearch').addEventListener('input', function(e) {
            const val = e.target.value.toLowerCase();
            document.querySelectorAll('.service-item').forEach(el => {
                el.classList.toggle('hidden', !el.getAttribute('data-search').toLowerCase().includes(val));
            });
            document.querySelectorAll('.category-label').forEach(label => {
                let n = label.nextElementSibling, visible = false;
                while(n && !n.classList.contains('category-label')) {
                    if(!n.classList.contains('hidden')) { visible = true; break; }
                    n = n.nextElementSibling;
                }
                label.classList.toggle('hidden', !visible);
            });
        });

        init();
    </script>
</body>
</html>
