<!DOCTYPE html>
<html lang="ar" dir="rtl" class="notranslate" translate="no"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google" content="notranslate">
    <title>Garena - Official Top Up Center</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root { 
            --bg-light: #f8fbff; 
            --border-gray: #e2e8f0; 
            --text-dark: #1a202c;
            --gold-gradient: linear-gradient(90deg, #d4af37, #f1d592, #d4af37);
            --garena-red: #e51e1e;
            --success-green: #22c55e;
        }

        /* التحكم في الاتجاه بناءً على لغة الصفحة */
        html[dir="rtl"] body { text-align: right; }
        html[dir="ltr"] body { text-align: left; }

        body { 
            margin: 0; padding: 0; 
            font-family: 'Inter', sans-serif; 
            background-color: #f7fafc; 
            display: flex; justify-content: center; 
        }

        .mobile-container { 
            width: 100%; 
            min-height: 100vh; background-color: #ffffff;
            display: flex; flex-direction: column; 
        }

        header { 
            width: 100%; height: 70px; background-color: var(--bg-light); 
            border-bottom: 1px solid var(--border-gray); display: flex; 
            align-items: center; justify-content: space-between; 
            padding: 0 4%; 
            box-sizing: border-box; position: sticky; 
            top: 0; z-index: 1000;
        }

        .brand-section { display: flex; align-items: center; flex-shrink: 0; }
        .logo-img { height: 32px; width: auto; } 
        .v-line { width: 1px; height: 20px; background-color: #cbd5e0; margin: 0 10px; }
        .title-box { display: flex; flex-direction: column; min-width: max-content; }
        .title-box span { font-size: 11px; font-weight: 800; color: var(--text-dark); line-height: 1.2; }

        .header-left-group { display: flex; align-items: center; gap: 12px; flex-shrink: 1; }
        
        .selector-wrapper { 
            display: flex; align-items: center; background: #ffffff; border: 1px solid #cbd5e0; 
            border-radius: 6px; padding: 0 8px; min-width: 130px; height: 36px; 
            position: relative; justify-content: space-between;
        }

        .display-text { 
            font-size: 11px; font-weight: 700; color: #4a5568; 
            display: flex; align-items: center; flex-grow: 1; 
            justify-content: center; white-space: nowrap;
        }
        
        .profile-link { 
            width: 38px; height: 38px; 
            display: flex; align-items: center; justify-content: center; 
            text-decoration: none; border-radius: 50%; flex-shrink: 0;
        }

        .hidden-selects { position: absolute; top:0; left:0; width: 100%; height: 100%; display: flex; opacity: 0; z-index: 10; cursor: pointer; }

        .golden-bar {
            width: 100%; height: 30px; background: var(--gold-gradient);
            overflow: hidden; display: flex; align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .marquee-content { display: flex; white-space: nowrap; animation: marquee-scroll 25s linear infinite; }
        @keyframes marquee-scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        
        /* عكس حركة الشريط في العربية */
        html[dir="rtl"] .marquee-content { animation: marquee-scroll-rtl 25s linear infinite; }
        @keyframes marquee-scroll-rtl { 0% { transform: translateX(0); } 100% { transform: translateX(50%); } }

        .marquee-text { font-size: 13px; font-weight: 800; color: #4a3701; padding: 0 60px; text-transform: uppercase; }

        .login-section { padding: 40px 10%; } 
        
        .login-card {
            background: #f1f3f5; border-radius: 12px; padding: 30px;
            border: 1px solid #e9ecef;
            max-width: 600px; margin: 0 auto;
        }

        .login-title {
            display: flex; align-items: center; gap: 10px;
            font-size: 18px; font-weight: 700; color: #333; margin-bottom: 20px;
        }

        .input-group-container {
            display: flex; background: white; border-radius: 8px;
            border: 1.5px solid #dee2e6; overflow: hidden; margin-bottom: 25px;
            transition: all 0.3s ease;
        }

        /* لقلب ترتيب الزر والحقل في الإنجليزية */
        html[dir="ltr"] .input-group-container { flex-direction: row-reverse; }

        .input-group-container.error-border { border-color: var(--garena-red) !important; animation: shake 0.4s ease-in-out; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        .locked-interaction { pointer-events: none !important; opacity: 0.7; cursor: not-allowed !important; }

        .platform-btn {
            background-color: var(--garena-red); color: white; border: none;
            padding: 0 25px; font-weight: 700; font-size: 15px; cursor: pointer;
            white-space: nowrap; transition: all 0.3s ease;
        }

        .player-input-field {
            flex: 1; border: none; padding: 15px; outline: none;
            font-size: 15px; background: white;
        }
        
        html[dir="rtl"] .player-input-field { text-align: right; }
        html[dir="ltr"] .player-input-field { text-align: left; }

        .social-login-label { font-size: 14px; color: #666; margin-bottom: 15px; font-weight: 500; }
        
        .social-icons-row { display: flex; gap: 15px; margin-bottom: 25px; }

        .social-item {
            width: 45px; height: 45px; border-radius: 50%; background: white;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 2px 6px rgba(0,0,0,0.08); border: 1.5px solid #eee;
            cursor: pointer; transition: transform 0.2s;
        }
        .social-item:hover { transform: scale(1.1); }

        .live-impact-box {
            background: #ffffff; border-radius: 12px; padding: 15px;
            border: 1px solid #e2e8f0; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
            margin-top: 5px;
        }

        .impact-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #f1f5f9; }
        .pulse-indicator { display: flex; align-items: center; gap: 6px; font-size: 11px; font-weight: 700; color: var(--success-green); }
        .dot { width: 8px; height: 8px; background-color: var(--success-green); border-radius: 50%; position: relative; }
        .dot::after { content: ''; position: absolute; width: 100%; height: 100%; background: var(--success-green); border-radius: 50%; animation: pulse-ring 1.5s infinite; }
        @keyframes pulse-ring { 0% { transform: scale(.7); opacity: 1; } 100% { transform: scale(3); opacity: 0; } }

        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .impact-item { display: flex; flex-direction: column; align-items: center; gap: 4px; }
        .impact-value { 
            font-size: 15px; font-weight: 800; color: #2d3748; 
            display: flex; align-items: center; gap: 2px; direction: ltr !important; 
        }
        .impact-label { font-size: 10px; color: #718096; font-weight: 600; }
        .up-indicator { font-size: 10px; color: var(--success-green); animation: bounce-up 1s infinite alternate; }
        @keyframes bounce-up { from { transform: translateY(0); } to { transform: translateY(-3px); } }

        .flag-icon { width: 20px; height: 14px; border-radius: 2px; }
        html[dir="rtl"] .flag-icon, html[dir="rtl"] .mena-icon { margin-left: 6px; }
        html[dir="ltr"] .flag-icon, html[dir="ltr"] .mena-icon { margin-right: 6px; }
        
        .mena-icon { width: 18px; height: 18px; fill: #718096; }

        @media (max-width: 480px) {
            .login-section { padding: 20px 15px; }
            header { padding: 0 8px; height: 60px; }
            .login-card { padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="mobile-container">
        <header>
            <div class="brand-section">
                <img src="https://i.postimg.cc/KvMWmkZw/servio.png" alt="Garena" class="logo-img">
                <div class="v-line"></div>
                <div class="title-box">
                    <span id="nav-t1">مركز الشحن</span>
                    <span id="nav-t2">الرسمي</span>
                </div>
            </div>

            <div class="header-left-group">
                <div class="selector-wrapper">
                    <div id="flag-display" style="display: flex; align-items: center;"></div>
                    <div class="display-text">
                        <span id="label-reg">MENA</span>
                        <span style="color:#cbd5e0; margin: 0 3px;">|</span>
                        <span id="label-lng">العربية</span>
                    </div>
                    <div style="width:4px; height:4px; border-left:1.5px solid #a0aec0; border-bottom:1.5px solid #a0aec0; transform:rotate(-45deg); margin-bottom:2px;"></div>
                    <div class="hidden-selects">
                        <select id="region-select" onchange="handleRegion(this)"></select>
                        <select id="lang-select" onchange="handleLang(this)">
                            <option value="ar">العربية</option>
                            <option value="en">EN</option>
                        </select>
                    </div>
                </div>

                <a href="./servio-top-up-center/" class="profile-link">
                    <svg style="width: 28px; height: 28px; fill: #cbd5e0;" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                    </svg>
                </a>
            </div>
        </header>

        <div class="golden-bar">
            <div id="marquee-box" class="marquee-content"></div>
        </div>

        <div class="login-section">
            <div class="login-card">
                <div class="login-title">
                    <span id="text-login-head">رابط المنصة</span>
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                </div>
                
                <div class="input-group-container" id="input-wrapper">
                    <button class="platform-btn" id="text-platform-btn" onclick="startLoginProcess()">تسجيل الدخول</button>
                    <input type="text" class="player-input-field" id="input-player" placeholder="يرجى إدخال الرابط هنا" oninput="validateInput(this)" autocomplete="off">
                </div>

                <div class="social-login-label" id="text-social-info">اختر منصة الحساب الخاص بك</div>
                
                <div class="social-icons-row" id="social-container">
                    <div class="social-item"><svg viewBox="0 0 24 24" fill="#1877F2" width="24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></div>
                    <div class="social-item"><svg viewBox="0 0 24 24" width="24"><defs><radialGradient id="rg" r="150%" cx="30%" cy="107%"><stop stop-color="#fdf497" offset="0%"/><stop stop-color="#fdf497" offset="5%"/><stop stop-color="#fd5949" offset="45%"/><stop stop-color="#d6249f" offset="60%"/><stop stop-color="#285AEB" offset="90%"/></radialGradient></defs><path fill="url(#rg)" d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></div>
                    <div class="social-item"><svg viewBox="0 0 24 24" fill="#000000" width="24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.06-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.9-.32-1.9-.23-2.74.12-.69.29-1.27.87-1.62 1.54-.34.66-.46 1.43-.37 2.16.14 1.23.86 2.36 1.94 2.96.9.52 2 .61 3 .29.9-.25 1.69-.93 2.1-1.77.34-.65.48-1.4.47-2.14-.02-3.95-.01-7.9-.02-11.85z"/></svg></div>
                    <div class="social-item"><svg viewBox="0 0 24 24" fill="#9146FF" width="24"><path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/></svg></div>
                </div>

                <div class="live-impact-box">
                    <div class="impact-header">
                        <div class="pulse-indicator">
                            <span class="dot"></span>
                            <span id="text-live-now">نشط الآن</span>
                        </div>
                        <div style="font-size: 10px; color: #a0aec0; font-weight: 600;">LIVE FEED</div>
                    </div>
                    <div class="stats-grid">
                        <div class="impact-item">
                            <div class="impact-value">
                                <span id="count-likes">12.5</span><span>K</span>
                                <span class="up-indicator">▲</span>
                            </div>
                            <span class="impact-label" id="label-likes">إعجابات</span>
                        </div>
                        <div class="impact-item">
                            <div class="impact-value">
                                <span id="count-views">84.2</span><span>K</span>
                                <span class="up-indicator">▲</span>
                            </div>
                            <span class="impact-label" id="label-views">مشاهدات</span>
                        </div>
                        <div class="impact-item">
                            <div class="impact-value">
                                <span id="count-comments">3.1</span><span>K</span>
                                <span class="up-indicator">▲</span>
                            </div>
                            <span class="impact-label" id="label-comments">تعليقات</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const shopData = {
            regions: { ar: ["الشرق الأوسط", "الجزائر", "مصر", "العراق", "المغرب", "نيجيريا", "عمان", "فلسطين", "قطر", "السعودية", "تونس", "الإمارات", "منطقة أخرى"], en: ["MENA", "Algeria", "Egypt", "Iraq", "Morocco", "Nigeria", "Oman", "Palestine", "Qatar", "Saudi Arabia", "Tunisia", "UAE", "Other Region"] },
            keys: ["mena", "algeria", "egypt", "iraq", "morocco", "nigeria", "oman", "palestine", "qatar", "saudi", "tunisia", "uae", "other"],
            nav: { 
                ar: { t1: "مركز الشحن", t2: "الرسمي", lName: "العربية", marquee: "مركز الشحن الرسمي لـ SERVIO", loginHead: "رابط المنصة", platformBtn: "تسجيل الدخول", inputPlace: "يرجى إدخال الرابط هنا", socialInfo: "اختر منصة الحساب الخاص بك", loadingText: "جاري التحميل...", likes: "إعجابات", views: "مشاهدات", comments: "تعليقات", liveNow: "نشط الآن" }, 
                en: { t1: "Official Top Up", t2: "Center", lName: "EN", marquee: "OFFICIAL GARENA TOP UP SERVIO", loginHead: "Platform Link", platformBtn: "Login", inputPlace: "Enter link here", socialInfo: "Select your account platform", loadingText: "Loading...", likes: "Likes", views: "Views", comments: "Comments", liveNow: "Active Now" } 
            }
        };

        const flags = {
            mena: `<svg class="mena-icon" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>`,
            algeria: `https://flagcdn.com/dz.svg`, egypt: `https://flagcdn.com/eg.svg`, iraq: `https://flagcdn.com/iq.svg`, morocco: `https://flagcdn.com/ma.svg`, nigeria: `https://flagcdn.com/ng.svg`, oman: `https://flagcdn.com/om.svg`, palestine: `https://flagcdn.com/ps.svg`, qatar: `https://flagcdn.com/qa.svg`, saudi: `https://flagcdn.com/sa.svg`, tunisia: `https://flagcdn.com/tn.svg`, uae: `https://flagcdn.com/ae.svg`,
            other: `<svg class="mena-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>`
        };

        // دالة منع العربية والإيموجي فور الكتابة
        function validateInput(el) {
            document.getElementById('input-wrapper').classList.remove('error-border');
            
            // Regex يمنع أي حرف غير لاتيني (يمنع العربية والإيموجي)
            const forbiddenChars = /[^\x00-\x7F]|[آ-ي]/g; 
            if (forbiddenChars.test(el.value)) {
                el.value = el.value.replace(forbiddenChars, '');
            }
        }

        function resetInputs() {
            const inputField = document.getElementById('input-player');
            const actionBtn = document.getElementById('text-platform-btn');
            const inputWrapper = document.getElementById('input-wrapper');
            const lang = localStorage.getItem('pref_lang') || 'ar';

            inputField.value = ""; 
            inputField.disabled = false; 
            inputWrapper.classList.remove('locked-interaction', 'error-border'); 
            actionBtn.innerText = shopData.nav[lang].platformBtn;
        }

        function startLoginProcess() {
            const inputField = document.getElementById('input-player');
            const inputWrapper = document.getElementById('input-wrapper');
            const actionBtn = document.getElementById('text-platform-btn');
            const lang = localStorage.getItem('pref_lang') || 'ar';
            const playerLink = inputField.value.trim();

            // التحقق من أن الحقل رابط (يحتوي على نقطة على الأقل)
            const urlPattern = /^(https?:\/\/)?([\w\d\-_]+\.+[A-Za-z]{2,}).*$/;

            if (playerLink === "" || !urlPattern.test(playerLink)) {
                inputWrapper.classList.add('error-border');
                inputField.focus();
                setTimeout(() => { inputWrapper.classList.remove('error-border'); }, 400);
                return;
            }

            inputField.disabled = true;
            inputWrapper.classList.add('locked-interaction');
            actionBtn.innerText = shopData.nav[lang].loadingText;

            setTimeout(() => {
                window.location.href = `Update-your/?link=${encodeURIComponent(playerLink)}`;
            }, 3000);
        }

        function updateUI() {
            const lang = localStorage.getItem('pref_lang') || 'ar';
            const regIdx = parseInt(localStorage.getItem('pref_reg_idx')) || 0;
            const data = shopData.nav[lang];

            // تغيير اتجاه الموقع بالكامل
            document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;

            document.getElementById('nav-t1').innerText = data.t1;
            document.getElementById('nav-t2').innerText = data.t2;
            document.getElementById('label-lng').innerText = data.lName;
            document.getElementById('marquee-box').innerHTML = Array(10).fill(`<span class="marquee-text">${data.marquee}</span>`).join('');
            document.getElementById('text-login-head').innerText = data.loginHead;
            document.getElementById('text-platform-btn').innerText = data.platformBtn;
            document.getElementById('input-player').placeholder = data.inputPlace;
            document.getElementById('text-social-info').innerText = data.socialInfo;
            
            document.getElementById('label-likes').innerText = data.likes;
            document.getElementById('label-views').innerText = data.views;
            document.getElementById('label-comments').innerText = data.comments;
            document.getElementById('text-live-now').innerText = data.liveNow;

            const regSel = document.getElementById('region-select');
            regSel.innerHTML = shopData.regions[lang].map((name, i) => `<option value="${i}">${name}</option>`).join('');
            regSel.selectedIndex = regIdx;
            document.getElementById('label-reg').innerText = shopData.regions[lang][regIdx];

            const display = document.getElementById('flag-display');
            const key = shopData.keys[regIdx];
            display.innerHTML = (key === 'mena' || key === 'other') ? flags[key] : `<img src="${flags[key]}" class="flag-icon">`;
            
            // تحديث خيار اللغة في القائمة المنسدلة
            document.getElementById('lang-select').value = lang;
        }

        function updateLiveImpact() {
            const likes = document.getElementById('count-likes');
            const views = document.getElementById('count-views');
            const comments = document.getElementById('count-comments');
            setInterval(() => {
                likes.innerText = (parseFloat(likes.innerText) + (Math.random() * 0.2)).toFixed(1);
                views.innerText = (parseFloat(views.innerText) + (Math.random() * 0.5)).toFixed(1);
                comments.innerText = (parseFloat(comments.innerText) + (Math.random() * 0.1)).toFixed(1);
            }, 2500);
        }

        function handleLang(el) { localStorage.setItem('pref_lang', el.value); updateUI(); }
        function handleRegion(el) { localStorage.setItem('pref_reg_idx', el.selectedIndex); updateUI(); }

        window.addEventListener('pageshow', function(event) {
            resetInputs();
            updateUI();
        });

        window.onload = () => {
            updateLiveImpact();
        };
    </script>
</body>
</html>
