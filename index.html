<!DOCTYPE html>
<html lang="en" dir="rtl"> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Garena - Official Top-up Center</title>
    <style>
        :root {
            --bg-light: #f8fbff;
            --border-gray: #e2e8f0;
        }

        body {
            margin: 0; padding: 0;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background-color: #ffffff;
            display: flex; justify-content: center;
        }

        .mobile-container {
            width: 100%; max-width: 480px; min-height: 100vh;
            display: flex; flex-direction: column;
        }

        header {
            width: 100%; height: 65px;
            background-color: var(--bg-light);
            border-bottom: 1px solid var(--border-gray);
            display: flex; 
            flex-direction: row; 
            align-items: center;
            justify-content: space-between;
            padding: 0 12px; box-sizing: border-box;
            position: sticky; top: 0; z-index: 1000;
            direction: rtl !important; /* تثبيت الشعار يميناً والكبسولة يساراً دائماً */
        }

        .brand-section { display: flex; align-items: center; }
        .logo-img { height: 32px; width: auto; }
        .v-line { width: 1.5px; height: 28px; background-color: #cbd5e0; margin: 0 10px; }
        .title-box { display: flex; flex-direction: column; text-align: right; }
        .title-box span { font-size: 11px; font-weight: 800; color: #2d3748; line-height: 1.1; }

        .selector-wrapper {
            display: flex;
            align-items: center;
            background: #ffffff;
            border: 1px solid #cbd5e0;
            border-radius: 6px;
            padding: 0 8px;
            width: 165px; 
            height: 36px;
            position: relative;
            justify-content: space-between;
            direction: rtl;
        }

        .loc-icon { width: 14px; height: 14px; fill: #718096; flex-shrink: 0; margin-left: 4px; }

        .display-text {
            font-size: 10px;
            font-weight: 700;
            color: #4a5568;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex-grow: 1;
            text-align: center;
            display: flex;
            justify-content: center;
            gap: 4px;
        }

        .lang-sep { color: #cbd5e0; margin: 0 2px; }

        .arrow-down {
            width: 6px; height: 6px;
            border-left: 2px solid #a0aec0;
            border-bottom: 2px solid #a0aec0;
            transform: rotate(-45deg);
            margin-right: 4px; flex-shrink: 0;
            margin-bottom: 2px;
        }

        .hidden-selects {
            position: absolute; top:0; left:0; width: 100%; height: 100%; 
            display: flex; opacity: 0; cursor: pointer; z-index: 10;
        }
        #region-select { width: 60%; }
        #lang-select { width: 40%; }

        main { flex: 1; }
    </style>
</head>
<body>

    <div class="mobile-container">
        <header>
            <div class="brand-section">
                <img src="https://i.postimg.cc/KvMWmkZw/servio.png" alt="Logo" class="logo-img">
                <div class="v-line"></div>
                <div class="title-box">
                    <span id="nav-t1">Top-up</span>
                    <span id="nav-t2">Center</span>
                </div>
            </div>

            <div class="selector-wrapper">
                <svg class="loc-icon" viewBox="0 0 24 24">
                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                </svg>
                
                <div class="display-text">
                    <span id="label-reg">Middle East</span>
                    <span class="lang-sep">|</span>
                    <span id="label-lng">English</span>
                </div>

                <div class="arrow-down"></div>

                <div class="hidden-selects">
                    <select id="region-select" onchange="handleRegion(this)"></select>
                    <select id="lang-select" onchange="handleLang(this)">
                        <option value="en">English</option>
                        <option value="ar">العربية</option>
                    </select>
                </div>
            </div>
        </header>

        <main></main>
    </div>

    <script>
        const shopData = {
            regions: {
                ar: ["الشرق الأوسط", "الجزائر", "مصر", "العراق", "المغرب", "نيجيريا", "عمان", "فلسطين", "قطر", "المملكة العربية السعودية", "تونس", "الإمارات العربية المتحدة", "منطقة أخرى"],
                en: ["Middle East", "Algeria", "Egypt", "Iraq", "Morocco", "Nigeria", "Oman", "Palestine", "Qatar", "Saudi Arabia", "Tunisia", "UAE", "Other Region"]
            },
            nav: {
                ar: { t1: "مركز الشحن", t2: "الرسمي", lName: "العربية" },
                en: { t1: "Top-up", t2: "Center", lName: "English" }
            }
        };

        function handleLang(el) {
            const lang = el.value;
            localStorage.setItem('pref_lang', lang);
            updateUI(lang);
        }

        function updateUI(lang) {
            document.getElementById('nav-t1').innerText = shopData.nav[lang].t1;
            document.getElementById('nav-t2').innerText = shopData.nav[lang].t2;
            document.getElementById('label-lng').innerText = shopData.nav[lang].lName;

            const regSel = document.getElementById('region-select');
            const currentIdx = regSel.selectedIndex !== -1 ? regSel.selectedIndex : 0;
            
            regSel.innerHTML = shopData.regions[lang].map((name, i) => 
                `<option value="${i}">${name}</option>`
            ).join('');
            
            regSel.selectedIndex = currentIdx;
            document.getElementById('label-reg').innerText = shopData.regions[lang][currentIdx];
        }

        function handleRegion(el) {
            const lang = document.getElementById('lang-select').value;
            document.getElementById('label-reg').innerText = shopData.regions[lang][el.selectedIndex];
            localStorage.setItem('pref_reg_idx', el.selectedIndex);
        }

        document.addEventListener('DOMContentLoaded', () => {
            // جعل الإنجليزية هي الخيار الافتراضي إذا لم يتم الحفظ مسبقاً
            const lang = localStorage.getItem('pref_lang') || 'en';
            const regIdx = localStorage.getItem('pref_reg_idx') || 0;
            
            document.getElementById('lang-select').value = lang;
            updateUI(lang);
            
            document.getElementById('region-select').selectedIndex = regIdx;
            document.getElementById('label-reg').innerText = shopData.regions[lang][regIdx];
        });
    </script>
</body>
</html>
